System.register(["./index-legacy-8762279d.js","./PageHeaderLayout-legacy-b45d2187.js","./Disclosure-legacy-8d1f93b8.js"],(function(e,t){"use strict";var s,a,i,l,r,n,d,c,o,g,m,x,u;return{setters:[e=>{s=e.r,a=e.i,i=e.v,l=e.D,r=e.R,n=e.W,d=e.B,c=e.E,o=e.F,g=e.q,m=e.C},e=>{x=e.P},e=>{u=e.D}],execute:function(){function t(e){const t=s.useMemo((()=>e.bearings?.filter((e=>{for(let t=0;t<e.items.length;t++)if("ok"!==e.items[t].status)return!0;return!1})).map(((e,t)=>a.jsx(h,{...e},t)))),[e.bearings]),l=s.useMemo((()=>e.bearings?.filter((e=>{for(let t=0;t<e.items.length;t++)if("ok"!==e.items[t].status)return!1;return!0})).map(((e,t)=>a.jsx(h,{...e},t)))),[e.bearings]);return a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"text-black font-medium",children:e.title}),a.jsx("div",{className:"rounded bg-gray-40 px-2 py-1 text-sm",children:(r=e.date,String(r.getDay()<10?"0"+r.getDay():r.getDay())+"."+String(r.getMonth()+1<10?"0"+(r.getDay()+1):r.getDay()+1)+"."+String(r.getFullYear()))})]})}),a.jsx("div",{className:"w-full border border-gray-60"}),e.lastChange&&a.jsxs("div",{children:[a.jsx("div",{className:"ml-3 mb-2 text-sm font-medium text-gray-900",children:"Последняя замена ротера"}),a.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-gray-20 px-4 py-2",children:[a.jsxs("div",{className:"text-black flex items-center justify-center rounded-lg bg-gray-40 px-4 py-2 text-lg font-medium",children:[e.lastChange.days," Сут"]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Прогноз"}),a.jsx("div",{className:i("h-3 w-3 animate-pulse rounded-full","ok"===e.lastChange.prediction.status?"bg-green-300":"","warning"===e.lastChange.prediction.status?"bg-yellow-600":"","danger"===e.lastChange.prediction.status?"bg-red-1000":"")})]}),a.jsxs("div",{className:"font-medium text-gray-800",children:[e.lastChange.prediction.days," Сут"]})]})]})]}),a.jsx("img",{src:"/img/rotor_intro.png",alt:"rotor_intro",className:"h-auto w-full rounded-lg border-2 border-solid border-blue-200 bg-blue-100 p-2"}),a.jsx(u,{classNameTitle:"font-medium text-sm text-gray-900",initOpen:!0,title:"Предупреждение",children:a.jsx("div",{className:"flex flex-col gap-2",children:t})}),a.jsx(u,{classNameTitle:"font-medium text-sm text-gray-900",title:"Все подшипники",children:a.jsx("div",{className:"flex flex-col gap-2",children:l})}),a.jsx(d,{onClick:e.onSendMessageClick,theme:"gray",className:"w-max",children:"Отправить сообщение в SAP"})]});var r}e("default",(function(){return a.jsxs(c,{children:[a.jsxs(x,{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-lg bg-yellow-600 p-2 text-white",children:a.jsx(o,{className:"h-4 w-4 fill-yellow-300"})}),a.jsx("div",{className:"text-sm font-medium",children:"Главный экран"})]}),a.jsxs("div",{className:"p-2",children:[a.jsx(p,{}),a.jsx(j,{})]})]})}));const h=s.memo((function(e){return a.jsxs("div",{className:"flex items-center justify-between rounded bg-gray-20 px-4 py-1",children:[a.jsx("div",{className:"text-sm text-gray-1000",children:e.title}),a.jsx("div",{className:"flex items-center gap-1",children:e.items.map(((e,t)=>a.jsx(y,{...e},t)))})]},e.title)})),y=s.memo((function(e){return a.jsxs("div",{className:i("inline-flex items-center justify-center rounded border border-solid px-2","warning"===e.status?"border-yellow-400 bg-yellow-100 text-yellow-500":"","danger"===e.status?"border-red-1000 bg-red-200 text-red-1000":"","ok"===e.status?"border-gray-400 bg-gray-100 text-gray-500":""),children:[a.jsx("span",{children:e.type}),"T"===e.type?a.jsx(l,{}):"V"===e.type?a.jsx(r,{}):a.jsx(n,{})]})}));function p(){const e=[{icon:a.jsx(l,{className:"fill-black h-5 w-5"}),title:"Температура",letter:"T"},{icon:a.jsx(r,{className:"fill-black h-5  w-5"}),title:"Вибрация",letter:"V"},{icon:a.jsx(n,{className:"fill-black h-5  w-5"}),title:"Уровень масла",letter:"L"},{icon:a.jsx("div",{className:"h-4 w-4 rounded bg-yellow-700"}),title:"Предупреждение"},{icon:a.jsx("div",{className:"h-4 w-4 rounded bg-red-1000"}),title:"Опастность"}];return a.jsx("div",{className:"flex items-center justify-end gap-3",children:e.map((e=>a.jsxs("div",{className:"t flex items-center text-sm text-gray-900",children:[e.letter,e.icon,a.jsx("div",{className:"ml-2 font-extralight",children:e.title})]},e.title)))})}function j(){const e=g(),t=[{title:"Агломашина №1",aglMachine:[{status:"danger",id:"У-171",title:"Эксгаузер У-171",onDetailsClick:()=>{e("/panel/machine/У-171")},rotor:{title:"Ротор № 37",date:new Date,lastChange:{days:6,prediction:{status:"danger",days:12}},bearings:[{title:"№3 п-к",items:[{status:"warning",type:"T"}]},{title:"№8 п-к",items:[{status:"ok",type:"L"},{type:"V",status:"danger"}]},{title:"№9 п-к",items:[{status:"ok",type:"T"},{status:"ok",type:"V"}]}]}},{status:"ok",id:"У-172",onDetailsClick:()=>{e("/panel/machine/У-172")},title:"Эксгаузер У-172",rotor:{title:"Ротор № 47",date:new Date,lastChange:{days:20,prediction:{status:"warning",days:25}}}}]},{title:"Агломашина №2",aglMachine:[{status:"danger",id:"У-171",title:"Эксгаузер У-171",onDetailsClick:()=>{e("/panel/machine/У-171")},rotor:{title:"Ротор № 37",date:new Date,lastChange:{days:6,prediction:{status:"danger",days:12}},bearings:[{title:"№3 п-к",items:[{status:"warning",type:"T"}]},{title:"№8 п-к",items:[{status:"ok",type:"L"},{type:"V",status:"danger"}]},{title:"№9 п-к",items:[{status:"ok",type:"T"},{status:"ok",type:"V"}]}]}},{status:"ok",id:"У-172",onDetailsClick:()=>{e("/panel/machine/У-172")},title:"Эксгаузер У-172",rotor:{title:"Ротор № 47",date:new Date,lastChange:{days:20,prediction:{status:"warning",days:25}}}}]},{title:"Агломашина №3",aglMachine:[{status:"danger",id:"У-171",title:"Эксгаузер У-171",onDetailsClick:()=>{e("/panel/machine/У-171")},rotor:{title:"Ротор № 37",date:new Date,lastChange:{days:6,prediction:{status:"danger",days:12}},bearings:[{title:"№3 п-к",items:[{status:"warning",type:"T"}]},{title:"№8 п-к",items:[{status:"ok",type:"L"},{type:"V",status:"danger"}]},{title:"№9 п-к",items:[{status:"ok",type:"T"},{status:"ok",type:"V"}]}]}},{status:"ok",id:"У-172",onDetailsClick:()=>{e("/panel/machine/У-172")},title:"Эксгаузер У-172",rotor:{title:"Ротор № 47",date:new Date,lastChange:{days:20,prediction:{status:"warning",days:25}}}}]}];return a.jsx("div",{className:"mt-4 grid grid-cols-3 gap-8",children:t.map((e=>a.jsx(f,{...e},e.title)))})}function f(e){return a.jsxs("div",{children:[a.jsx("div",{className:"w-full rounded-lg bg-gray-40 py-2 px-6 text-gray-700",children:e.title}),a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:e.aglMachine.map(((e,t)=>a.jsx(b,{...e},t)))})]})}function b(e){return a.jsxs("div",{className:"mb-2 h-max rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-t-lg bg-gray-700 p-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:i("h-3 w-3 rounded-full","ok"===e.status?"bg-green-800":"","danger"===e.status?"bg-red-1000":"",void 0===e.status?"bg-gray-200":"")}),a.jsx("div",{className:"font-bold font-medium text-white",children:e.title})]}),a.jsx(d,{theme:"gray",className:"h-8 w-8 !p-0",onClick:e.onDetailsClick,children:a.jsx(m,{className:"h-5 w-5 fill-gray-400"})})]}),a.jsx("div",{className:"rounded-b-lg border-l-2 border-r-2 border-b-2 border-gray-100 p-2",children:e.rotor&&a.jsx(t,{...e.rotor})})]})}}}}));
