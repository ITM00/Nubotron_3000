System.register(["./index-legacy-5db5894c.js","./Button-legacy-50bf1bda.js"],(function(e,t){"use strict";var s,a,l,r,i,n,d,c,o,x;return{setters:[e=>{s=e.j,a=e.r,l=e.c},e=>{r=e.c,i=e.B,n=e.b,d=e.d,c=e.G,o=e.e,x=e.f}],execute:function(){function t(e){return s.jsx("div",{...e,className:r(e.className,"rounded-lg bg-white")})}function g(e){const[t,l]=a.useState(e.initOpen),r=a.useCallback((()=>{l((e=>!e))}),[]);return s.jsxs("div",{className:"flex flex-col gap-2 ",children:[s.jsxs("div",{className:"flex cursor-pointer items-center gap-2",onClick:r,children:[s.jsx(i,{theme:"gray",className:"h-6 w-6 !p-0",children:t?s.jsx(n,{className:"m-auto h-4  w-8"}):s.jsx(d,{className:"m-auto h-4  w-8"})}),s.jsx("div",{className:"text-sm font-bold",children:e.title})]}),t&&s.jsx("div",{className:"ml-6",children:e.children})]})}function m(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"}}]})(e)}function u(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M297.87 24.322c-40.38.374-80.665 13.623-114.077 39.72 73.64-37.01 166.104-24.977 227.547 36.464 61.442 61.44 73.013 153.443 36.002 227.084 57.598-73.738 53.068-180.48-14.77-248.317-37.098-37.098-85.97-55.4-134.703-54.95zm-27.25 63.123c-37.16.42-74.186 14.305-102.975 41.67 60.11-36.405 139.642-28.35 191.54 23.545 51.897 51.898 59.488 130.976 23.08 191.086 56.502-59.44 56.012-153.534-2.31-211.855C349.883 101.82 310.177 87 270.62 87.446zm-16.61 59.54c-28.304 0-56.606 10.797-78.2 32.392-43.19 43.19-43.19 113.214 0 156.404 43.188 43.19 113.21 43.19 156.4 0 43.19-43.19 43.19-113.213 0-156.403-21.594-21.595-49.897-32.393-78.2-32.393zm-132.635 28.4c-56.503 59.44-55.552 153.995 2.77 212.316 58.32 58.323 152.416 58.81 211.855 2.308-60.112 36.41-139.186 28.822-191.084-23.078-51.898-51.9-59.95-131.435-23.54-191.545zM56.297 191.54C-1.3 265.276 3.69 372.48 71.527 440.317c67.838 67.838 174.58 72.366 248.32 14.77-73.642 37.01-165.647 25.44-227.087-36.002-61.44-61.442-73.474-153.908-36.463-227.547z"}}]})(e)}function h(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 3.1L7.05 8.05a7 7 0 1 0 9.9 0L12 3.1zm0-2.828l6.364 6.364a9 9 0 1 1-12.728 0L12 .272z"}}]}]})(e)}function j(e){const t=a.useMemo((()=>e.bearings?.filter((e=>{for(let t=0;t<e.items.length;t++)if("ok"!==e.items[t].status)return!0;return!1})).map(((e,t)=>s.jsx(f,{...e},t)))),[e.bearings]),l=a.useMemo((()=>e.bearings?.map(((e,t)=>s.jsx(f,{...e},t)))),[e.bearings]);return s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"text-sm font-bold text-black",children:e.title}),s.jsx("div",{className:"rounded-lg bg-gray-200 p-1 text-xs",children:(n=e.date,String(n.getDay()<10?"0"+n.getDay():n.getDay())+"."+String(n.getMonth()+1<10?"0"+(n.getDay()+1):n.getDay()+1)+"."+String(n.getFullYear()))})]}),s.jsx("button",{className:"cursor-pointer text-sm text-purple-600 hover:underline",onClick:e.onChangeClick,children:"Изменить"})]}),s.jsx("div",{className:"w-full border border-solid border-b-gray-100"}),e.lastChange&&s.jsxs("div",{children:[s.jsx("div",{className:"ml-3 mb-2 text-sm font-bold text-black",children:"Последняя замена ротера"}),s.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-gray-100 px-4 py-2",children:[s.jsxs("div",{className:"flex h-10 w-20 items-center justify-center rounded-lg bg-gray-200 font-bold",children:[e.lastChange.days," Сут"]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Прогноз"}),s.jsx("div",{className:r("h-2 w-2 rounded-full","ok"===e.lastChange.prediction.status?"bg-green-300":"","warning"===e.lastChange.prediction.status?"bg-yellow-500":"","danger"===e.lastChange.prediction.status?"bg-red-500":"")})]}),s.jsxs("div",{className:"text-sm font-bold text-gray-600",children:[e.lastChange.prediction.days," Сут"]})]})]})]}),s.jsx("div",{className:"h-24 w-full rounded-lg border-2 border-solid border-gray-300 bg-gray-200"}),s.jsx(g,{initOpen:!0,title:"Предупреждение",children:s.jsx("div",{className:"flex flex-col gap-2",children:t})}),s.jsx(g,{title:"Все подшипники",children:s.jsx("div",{className:"flex flex-col gap-2",children:l})}),s.jsx(i,{onClick:e.onSendMessageClick,theme:"gray",className:"w-max border border-solid !border-gray-300 !bg-gray-100 !p-1 !text-sm font-normal !text-gray-500",children:"Отправить сообщение в SAP"})]});var n}e("default",(function(){return s.jsxs(t,{children:[s.jsx(b,{}),s.jsxs("div",{className:"p-2",children:[s.jsx(y,{}),s.jsx(v,{})]})]})}));const f=a.memo((function(e){return s.jsxs("div",{className:"flex items-center justify-between rounded bg-gray-100 px-4 py-2",children:[s.jsxs("div",{className:"text-sm",children:[e.title," ",s.jsx("span",{className:"text-xs",children:e.suffix})]}),s.jsx("div",{className:"flex items-center gap-2",children:e.items.map(((e,t)=>s.jsx(p,{...e},t)))})]},e.title)})),p=a.memo((function(e){return s.jsxs("div",{className:r("inline-flex items-center justify-center rounded border border-solid px-2 ","warning"===e.status?"border-yellow-400 bg-yellow-100 text-yellow-500":"","danger"===e.status?"border-red-400 bg-red-100 text-red-500":"","ok"===e.status?"border-gray-400 bg-gray-100 text-gray-500":""),children:[s.jsx("span",{children:e.type}),"T"===e.type?s.jsx(m,{}):"V"===e.type?s.jsx(u,{}):s.jsx(h,{})]})}));function b(){return s.jsxs("header",{className:"flex items-center gap-4 rounded-t-lg bg-gray-100 p-2",children:[s.jsx("div",{className:"rounded-lg bg-yellow-400 p-2 text-white",children:s.jsx(o,{className:"h-4 w-4"})}),s.jsx("div",{className:"font-bold",children:"Главный экран"})]})}function y(){const e=[{icon:s.jsx(m,{}),title:"Температура",letter:"T"},{icon:s.jsx(u,{}),title:"Вибрация",letter:"V"},{icon:s.jsx(h,{}),title:"Уровень масла",letter:"L"},{icon:s.jsx("div",{className:"h-3 w-3 bg-yellow-500"}),title:"Предупреждение"},{icon:s.jsx("div",{className:"h-3 w-3 bg-red-500"}),title:"Опастность"}];return s.jsx("div",{className:"flex items-center justify-end gap-3",children:e.map((e=>s.jsxs("div",{className:"flex items-center",children:[e.letter,e.icon,s.jsx("div",{className:"ml-2 text-sm text-gray-400",children:e.title})]},e.title)))})}function v(){return s.jsx("div",{className:"mt-4 grid grid-cols-3 gap-8",children:[{title:"Агломашина №1"},{title:"Агломашина №2"},{title:"Агломашина №3"}].map((e=>s.jsx(N,{...e},e.title)))})}function N(e){const t=l(),a=[{status:"danger",id:"У-171",title:"Эксгаузер У-171",onDetailsClick:()=>{t("/panel/machine/У-171")},rotor:{title:"Ротор № 37",date:new Date,lastChange:{days:6,prediction:{status:"danger",days:12}},bearings:[{title:"№3",suffix:"п-к",items:[{status:"warning",type:"T"}]},{title:"№8",suffix:"п-к",items:[{status:"ok",type:"L"},{type:"V",status:"danger"}]},{title:"№9",suffix:"п-к",items:[{status:"ok",type:"T"},{status:"ok",type:"V"}]}]}},{status:"ok",id:"У-172",onDetailsClick:()=>{t("/panel/machine/У-172")},title:"Эксгаузер У-172",rotor:{title:"Ротор № 47",date:new Date,lastChange:{days:20,prediction:{status:"warning",days:25}}}}];return s.jsxs("div",{children:[s.jsx("div",{className:"w-full rounded-lg bg-gray-200 py-2 px-6 text-gray-600",children:e.title}),s.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:a.map(((e,t)=>s.jsx(w,{...e},t)))})]})}function w(e){return s.jsxs("div",{className:"mb-2 h-max rounded-lg border border-solid border-zinc-400",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t-lg bg-zinc-400 p-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:r("h-3 w-3 rounded-full","ok"===e.status?"bg-green-300":"","warning"===e.status?"bg-yellow-500":"","danger"===e.status?"bg-red-500":"",void 0===e.status?"bg-gray-200":"")}),s.jsx("div",{className:"font-bold text-white",children:e.title})]}),s.jsx(i,{theme:"gray",className:"flex h-8 w-8 items-center justify-center !p-0",onClick:e.onDetailsClick,children:s.jsx(x,{className:"h-5 w-5 text-gray-400"})})]}),s.jsx("div",{className:"p-2",children:e.rotor&&s.jsx(j,{...e.rotor})})]})}}}}));
